/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/logostartup_screen/LogoStartupViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

LogoStartupViewBase::LogoStartupViewBase() :
    logoFadeInteractionEndedCallback(this, &LogoStartupViewBase::logoFadeInteractionEndedCallbackHandler)
{
    __background.setPosition(0, 0, 320, 240);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setPosition(0, 0, 320, 240);
    background.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    add(background);

    rat_logo.setXY(21, 50);
    rat_logo.setBitmap(touchgfx::Bitmap(BITMAP_RAT_LOGO_ID));
    add(rat_logo);
}

LogoStartupViewBase::~LogoStartupViewBase()
{

}

void LogoStartupViewBase::setupScreen()
{

}

void LogoStartupViewBase::afterTransition()
{
    //LogoFadeInteraction
    //When screen transition ends fade rat_logo
    //Fade rat_logo to alpha:0 with QuintIn easing in 7000 ms (420 Ticks)
    rat_logo.clearFadeAnimationEndedAction();
    rat_logo.setFadeAnimationDelay(120);
    rat_logo.startFadeAnimation(0, 420, touchgfx::EasingEquations::quintEaseIn);
    rat_logo.setFadeAnimationEndedAction(logoFadeInteractionEndedCallback);
}

void LogoStartupViewBase::logoFadeInteractionEndedCallbackHandler(const touchgfx::FadeAnimator<touchgfx::Image>& comp)
{
    //SetupEnded
    //When LogoFadeInteraction completed change screen to ProjectSettings
    //Go to ProjectSettings with block transition
    application().gotoProjectSettingsScreenBlockTransition();

}
